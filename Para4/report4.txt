--------------------------

学籍番号 : 20B30100
氏名 :伊藤悠馬

--------------------------

回答1 :
1.1) 途中結果が表示されなかった理由の説明

operation()を実行しているスレッドとwriteState()を実行しているスレッドがおなじであるため、
それぞれ同時並行で実行をすることができない。
この状態でプログラムを実行してしまうwriteState()が画面描画のため実行時間が比較的長いことに加えて、
最適化によりwriteState()が実行中にoperation()が実行されてしまうこと、
sleep()によってsetText()も停止してしまうことにより、
writeState()がoperation()の実行に間に合わず、labelの表示前にlabelの値が書き換わることで
最後の値のみが表示されてしまう。



1.2) 改良方針の説明

MyThread内でPlatform.runLater()によってsetText()を呼び出すことで、JavaFX Application Threadに描画を行わせている。
これによってsetText()を受け取ったJavaFX Application Threadはイベントハンドラ以外に主だったメソッドが実行されていないため、
setText()を受け取り次第描画表示を変更することができる。
この間MyThreadでは十分な時間sleep()を実行することで、1ステップごとに途中経過を表示することが可能になっている。


1.3) 発生したエラー文は次のとおり

Exception in thread "Thread-4" java.lang.IllegalStateException: 
    Not on FX application thread; currentThread = Thread-4

runLater()の処理内容について

runLater()では中に書いた処理をスレッドの処理がイベントハンドラのみになったのちに処理を実行する。
さらにこの関数はJavaFX Application Thread外で描画を行いたい際に、
JavaFX Application Threadに処理をわたすことができる。


runLater()がjavafxに用意されている理由

JavaFX Application 



回答2 :
2.2)2つのスレッドのそれぞれの処理内容について
1つ目のスレッド



2つ目のスレッド



2.3)同期についての考えられている配慮

配慮は十分である　・　不十分である

十分であると考える場合のその理由





不十分であると考える場合の問題となる具体的状況






2.4)並行サーバを実現するにあたり工夫した点
各クライアントからのデータの表示位置の割り振りについてどのように実現したかなど





回答3 :
3.1)改造方針、スレッドの役割分担についての説明






回答4 :
4.1)
PrintStreamでの例外発生を確認する方法





例外処理がPrintStreamと他のStreamとで異なる理由




4.2)
受信機能の追加について、工夫した点があれば記述






今回の課題で特に学べたと感じたこと

